<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Edublitz</title>
<link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
<script src="/bootstrap/js/bootstrap.js"></script>

<style>
.center {
	display: flex-wrap;
	flex-direction: column;
	align-items: center;
	justify-content:center;
	height: 40vh;
}
</style>

</head>

<body>
	<div class="container">
		<main class = "center">
		<div class=center>
			<form th:action="@{/resetPassword}" method="post" style="max-width: 700px; margin: 0 auto">
			<input type="hidden" name = "token" th:value="${token}" />
				<div class="border border-secondary rounded p-5">	
					<h1>Reset Your Password</h1>
					<div>		
						<p>
							<input type="password" name="password" id="password" class="form-control" required autofocus placeholder="Enter your new password" />
						</p>
						<p>
							<input type="password" name="confirmPassword" class="form-control" required autofocus placeholder="Enter your new password" oninput="checkPasswordMatch(this);"/>
						</p>
					</div>	
					<div class="mt-3">
						<div class="col">
							<button type="submit" class="btn btn-primary">Change Password</button>
						</div>
					</div>	
				</div>
			</form>
			<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
			
		</div>	
		</main>
		<div th:replace="fragments/footer"></div>
	</div>
	<script type="text/javascript">
		function checkPasswordMatch(fieldConfirmPassword){
			if(fieldConfirmPassword.value != $("#password").val()){
				fieldConfirmPassword.setCustomValidity("Password do not match!");
			}
			else{
				fieldConfirmPassword.setCustomValidity("");
			}
		}
		
	</script>
</body>
</html>

